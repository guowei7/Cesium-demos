<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Cesium Ground-push Demo</title>
    <script src="Build/Cesium/Cesium.js"></script>
	<script src="resource/js/jquery-1.8.2.min.js" type="text/javascript"></script>	
	<script src="resource/js/jquery/ui/jquery-ui.min.js"></script>
	<link href="resource/js/jquery/ui/jquery-ui.min.css" rel="stylesheet" type="text/css" />
	<link href="resource/css/master.css" rel="stylesheet" type="text/css" />
	<link href="resource/css/ui.css" rel="stylesheet" type="text/css" />
	<link href="Build/Cesium/Widgets/widgets.css" rel="stylesheet" type="text/css" />
	<script src="Build/Cesium/GeoserverTerrainProvider.js"></script>
	<script type="text/javascript" src="http://webapi.amap.com/maps?v=1.3&key=d302ff0fae323b066e39c6b50409caa5"></script>
	<script src="resource/js/jquery.carouFredSel-6.2.0-packed.js"></script>
	<script src="resource/js/googleimageprovider.js"></script>
</head>
<body>
<div id="cesiumContainer" class="fullWindow"></div>
<script type="text/javascript">

    
   // Add an imagery provider to show in the pushed region
    var imageryProvider = new Cesium.WebMapTileServiceImageryProvider({
    	url : 'http://t0.tianditu.com/img_w/wmts',
        layer : 'img',
        style : 'default',
        format : 'tiles',
        tileMatrixSetID : 'w',
        // Limit the rectangle of the imagery layer so that tiles
        // that will never be visible aren't loaded.
        //rectangle : gp.getOuterRectangle()
    }); 
    var viewer = new Cesium.Viewer('cesiumContainer',{
		//timeline: false,
		fullscreenButton: false,
		shouldAnimate : true,		
		geocoder: false,
		sceneModePicker: false,
		baseLayerPicker: false,
		homeButton: false,
		navigationHelpButton: false,
		selectionIndicator:false,
		contextOptions: {
		        webgl:{preserveDrawingBuffer:true}
		},
		imageryProvider:imageryProvider,
		//terrainProvider: terrainProvider
	});
    
    var start = [114.2607, 30.5402];
    var end = [114.2606,30.5401];
    var colorC = new Cesium.Color(192/255,16/255,26/255, 0.8);
   	viewer.entities.add({
        position : Cesium.Cartesian3.fromDegrees(start[0],start[1]),
        point : {
            show : true, // default
            color : colorC,//Cesium.Color.RED, // default: WHITE
            pixelSize : 24 // default: 1              
        }
    });
   	viewer.entities.add({
        position : Cesium.Cartesian3.fromDegrees(end[0],end[1]),
        point : {
            show : true, // default
            color : colorC,//Cesium.Color.RED, // default: WHITE
            pixelSize : 24 // default: 1              
        }
    });
   	
   	var czml = [{
   	    "id" : "document",
   	    "name" : "CZML Point - Time Dynamic",
   	    "version" : "1.0",
   	 	"clock": {
         "interval": "2012-08-04T16:00:00Z/2012-08-04T16:01:00Z",
         "currentTime": "2012-08-04T16:00:00Z",
         "multiplier": 10
     	}
   	}, {
   	    "id" : "point",
   	    "availability" :"2012-08-04T16:00:00Z/2012-08-04T16:01:00Z",
   	    "position" : {
   	        "epoch" : "2012-08-04T16:00:00Z",
   	        "cartographicDegrees" : [
   	            0,   114.2607, 30.5402, 0,          
   	            40, 114.2606,30.5401, 0
   	        ]
   	    },
   	    "point" : {
   	        "color" : {
   	            "rgba" : [255, 255, 255, 128]
   	        },
   	        "outlineColor" : {
   	            "rgba" : [255, 0, 0, 128]
   	        },
   	        "outlineWidth" : 3,
   	        "pixelSize" : 15
   	    }
   	},{
   	    "id" : "point1",
   	    "availability" :"2012-08-04T16:00:00Z/2012-08-04T16:01:00Z",
   	    "position" : {
   	        "epoch" : "2012-08-04T16:00:00Z",
   	        "cartographicDegrees" : [
   	            10, 114.2607, 30.5402, 0,            
   	            50, 114.2606,30.5401, 0
   	        ]
   	    },
   	    "point" : {
   	        "color" : {
   	            "rgba" : [255, 255, 255, 128]
   	        },
   	        "outlineColor" : {
   	            "rgba" : [255, 0, 0, 128]
   	        },
   	        "outlineWidth" : 3,
   	        "pixelSize" : 15
   	    }
   	},{
   	    "id" : "point2",
   	    "availability" :"2012-08-04T16:00:00Z/2012-08-04T16:01:00Z",
   	    "position" : {
   	        "epoch" : "2012-08-04T16:00:00Z",
   	        "cartographicDegrees" : [
   	            20, 114.2607, 30.5402, 0,            
   	            60, 114.2606,30.5401, 0
   	        ]
   	    },
   	    "point" : {
   	        "color" : {
   	            "rgba" : [255, 255, 255, 128]
   	        },
   	        "outlineColor" : {
   	            "rgba" : [255, 0, 0, 128]
   	        },
   	        "outlineWidth" : 3,
   	        "pixelSize" : 15
   	    }
   	}];

   	viewer.clock.clockRange = Cesium.ClockRange.LOOP_STOP; //Loop at the end
   	viewer.dataSources.add(Cesium.CzmlDataSource.load(czml));
</script>

</body>
</html>